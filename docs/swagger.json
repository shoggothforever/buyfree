{
    "swagger": "2.0",
    "info": {
        "description": "This is a sample server celler server.",
        "title": "Swagger Example API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "url": "http://www.swagger.io/support",
            "email": "support@swagger.io"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:9003",
    "basePath": "/",
    "paths": {
        "/pt/ads": {
            "post": {
                "description": "按照Advertisement定义的内容传递json格式的数据",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Advertisement"
                ],
                "summary": "添加广告信息",
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/response.ADResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/ads/efficient/{id}": {
            "get": {
                "description": "传入广告ID",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Advertisement"
                ],
                "summary": "获取单个广告效益",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "广告ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.ADEfficientResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/ads/infos/{id}": {
            "get": {
                "description": "传入广告ID",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Advertisement"
                ],
                "summary": "获取单个广告信息",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "广告ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.ADResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/ads/list": {
            "get": {
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Advertisement"
                ],
                "summary": "获取所有广告信息",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.ADResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/dev-admin/devs": {
            "post": {
                "description": "按照Device的定义 传入json格式的数据,设备的ID无需传入",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Device"
                ],
                "summary": "添加设备信息",
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/response.AddDevResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/dev-admin/infos/{id}": {
            "get": {
                "description": "输入设备的ID以查看对应设备的销量,绑定车主以及库存的信息",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Device"
                ],
                "summary": "展示设备详情信息",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "use to identify Device",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.DevInfoResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/dev-admin/list/{mode}": {
            "get": {
                "description": "传入字段名:mode;mode=0:获取全部设备信息,mode=1，2,3,4分别对应获取在线，离线,激活，未激活的设备信息",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Device"
                ],
                "summary": "获取设备信息",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "group mode",
                        "name": "mode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取的设备信息",
                        "schema": {
                            "$ref": "#/definitions/response.DevResponse"
                        }
                    }
                }
            }
        },
        "/pt/login": {
            "post": {
                "description": "Input user's nickname and password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Platform"
                ],
                "summary": "平台用户登录",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.LoginResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.LoginResponse"
                        }
                    }
                }
            }
        },
        "/pt/orders/factory/{mode}": {
            "get": {
                "description": "传入字段mode，获取对应订单信息",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orderform"
                ],
                "summary": "获取场站订单信息(车主在该场站下的订单)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "按照不同模式获取订单信息，mode={0:未支付,1:未完成,2:完成,传入其他任意数值代表获取全部订单信息}",
                        "name": "mode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.OrderResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/orders/infos/{sku}": {
            "get": {
                "description": "输入商品SKU,获取场站中对应商品的详细信息",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orderform"
                ],
                "summary": "获取商品信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "sku 指向唯一的场站中的商品信息",
                        "name": "sku",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.FactoryGoodsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/register": {
            "post": {
                "description": "Input info as model.Platform",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Platform"
                ],
                "summary": "平台用户注册",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.LoginResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/response.LoginResponse"
                        }
                    }
                }
            }
        },
        "/pt/screen": {
            "get": {
                "description": "在数据大屏上展示管理场站的销售数据",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Platform"
                ],
                "summary": "展示销售数据",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.ScreenInfoResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/pt/static/{mode}": {
            "get": {
                "description": "展示管理场站的销售数据，获取详细的销售排行信息",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Platform"
                ],
                "summary": "销售数据统计",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "mode=0 今日排行，mode=1 本月排行 ,mode=2 年度排行",
                        "name": "mode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/response.SaleStaticResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "model.Advertisement": {
            "type": "object",
            "properties": {
                "ad_owner": {
                    "type": "string"
                },
                "ad_state": {
                    "type": "integer"
                },
                "description": {
                    "type": "string"
                },
                "devices": {
                    "description": "在投放广告的时候需要注意",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Device"
                    }
                },
                "expected_play_times": {
                    "type": "integer"
                },
                "expire_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "invest_fund": {
                    "type": "number"
                },
                "platform_id": {
                    "type": "integer"
                },
                "play_times": {
                    "type": "integer"
                },
                "play_url": {
                    "type": "string"
                },
                "profit": {
                    "type": "number"
                },
                "video_cover": {
                    "type": "string"
                }
            }
        },
        "model.Device": {
            "type": "object",
            "properties": {
                "activated_time": {
                    "type": "string"
                },
                "advertisements": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Advertisement"
                    }
                },
                "id": {
                    "type": "integer"
                },
                "is_activated": {
                    "type": "boolean"
                },
                "is_online": {
                    "type": "boolean"
                },
                "owner_id": {
                    "type": "integer"
                },
                "platform_id": {
                    "type": "integer"
                },
                "products": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.DeviceProduct"
                    }
                },
                "profit": {
                    "type": "number"
                },
                "updated_time": {
                    "type": "string"
                }
            }
        },
        "model.DeviceProduct": {
            "type": "object",
            "properties": {
                "annually_sales": {
                    "type": "number"
                },
                "buy_price": {
                    "description": "销售价",
                    "type": "number"
                },
                "daily_sales": {
                    "type": "number"
                },
                "device_id": {
                    "description": "售货机编号",
                    "type": "integer"
                },
                "factory_id": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "inventory": {
                    "description": "存货",
                    "type": "integer"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "name": {
                    "description": "产品名称",
                    "type": "string"
                },
                "pic": {
                    "description": "图片",
                    "type": "string"
                },
                "sku": {
                    "type": "string"
                },
                "supply_price": {
                    "description": "批发价",
                    "type": "number"
                },
                "total_sales": {
                    "type": "number"
                },
                "type": {
                    "description": "型号",
                    "type": "string"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        },
        "model.FactoryProduct": {
            "type": "object",
            "properties": {
                "annually_sales": {
                    "type": "number"
                },
                "buy_price": {
                    "description": "销售价",
                    "type": "number"
                },
                "daily_sales": {
                    "type": "number"
                },
                "factory_id": {
                    "type": "integer"
                },
                "factory_name": {
                    "description": "场站名字",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "inventory": {
                    "description": "存货",
                    "type": "integer"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "name": {
                    "description": "产品名称",
                    "type": "string"
                },
                "pic": {
                    "description": "图片",
                    "type": "string"
                },
                "sku": {
                    "type": "string"
                },
                "supply_price": {
                    "description": "批发价",
                    "type": "number"
                },
                "total_sales": {
                    "type": "number"
                },
                "type": {
                    "description": "型号",
                    "type": "string"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        },
        "response.ADEfficientInfo": {
            "type": "object",
            "properties": {
                "car_id": {
                    "type": "string"
                },
                "device_id": {
                    "type": "integer"
                },
                "driver_name": {
                    "type": "string"
                },
                "played_times": {
                    "type": "integer"
                },
                "profit": {
                    "type": "number"
                }
            }
        },
        "response.ADEfficientResponse": {
            "type": "object",
            "properties": {
                "adefficientInfos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ADEfficientInfo"
                    }
                },
                "code": {
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.ADResponse": {
            "type": "object",
            "properties": {
                "adinfos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Advertisement"
                    }
                },
                "code": {
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.AddDevResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "devices": {
                    "$ref": "#/definitions/model.Device"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.DevInfoResponse": {
            "type": "object",
            "properties": {
                "activated_time": {
                    "type": "string"
                },
                "annually_sales": {
                    "type": "number"
                },
                "code": {
                    "type": "integer"
                },
                "daily_sales": {
                    "type": "number"
                },
                "devID": {
                    "type": "integer"
                },
                "driver_name": {
                    "type": "string"
                },
                "location": {
                    "type": "string"
                },
                "mobile": {
                    "type": "string"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "msg": {
                    "type": "string"
                },
                "productInfo": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.DevProductPartInfo"
                    }
                },
                "total_sales": {
                    "type": "number"
                },
                "updated_time": {
                    "type": "string"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        },
        "response.DevProductPartInfo": {
            "type": "object",
            "properties": {
                "inventory": {
                    "type": "integer"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "pic": {
                    "type": "string"
                },
                "sku": {
                    "description": "FactoryName  string  `json:\"factory_name\"`",
                    "type": "string"
                },
                "supply_price": {
                    "type": "number"
                }
            }
        },
        "response.DevQueryInfo": {
            "type": "object",
            "properties": {
                "dev_id": {
                    "type": "integer"
                },
                "driver_name": {
                    "type": "string"
                },
                "location": {
                    "type": "string"
                },
                "mobile": {
                    "type": "string"
                },
                "sales_of_today": {
                    "type": "number"
                },
                "seq": {
                    "type": "integer"
                },
                "state": {
                    "type": "string"
                }
            }
        },
        "response.DevResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "devResponses": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.DevQueryInfo"
                    }
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.FactoryGoodsResponse": {
            "type": "object",
            "properties": {
                "annually_sales": {
                    "type": "number"
                },
                "buy_price": {
                    "description": "销售价",
                    "type": "number"
                },
                "code": {
                    "type": "integer"
                },
                "daily_sales": {
                    "type": "number"
                },
                "factory_id": {
                    "type": "integer"
                },
                "factory_name": {
                    "description": "场站名字",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "inventory": {
                    "description": "存货",
                    "type": "integer"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "msg": {
                    "type": "string"
                },
                "name": {
                    "description": "产品名称",
                    "type": "string"
                },
                "pic": {
                    "description": "图片",
                    "type": "string"
                },
                "sku": {
                    "type": "string"
                },
                "supply_price": {
                    "description": "批发价",
                    "type": "number"
                },
                "total_sales": {
                    "type": "number"
                },
                "type": {
                    "description": "型号",
                    "type": "string"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        },
        "response.FactoryOrderInfo": {
            "type": "object",
            "properties": {
                "factory_name": {
                    "type": "string"
                },
                "inventory": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "pic": {
                    "type": "string"
                },
                "sales": {
                    "type": "number"
                },
                "sku": {
                    "type": "string"
                },
                "state": {
                    "type": "boolean"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "response.LoginResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "jwt": {
                    "type": "string"
                },
                "msg": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "response.OrderResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                },
                "orderInfos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactoryOrderInfo"
                    }
                }
            }
        },
        "response.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "msg": {
                    "type": "string"
                }
            }
        },
        "response.SaleStaticResponse": {
            "type": "object",
            "properties": {
                "annually_sales": {
                    "type": "number"
                },
                "daily_sales": {
                    "type": "number"
                },
                "devicesRank": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Device"
                    }
                },
                "monthly_sales": {
                    "type": "number"
                },
                "productsRank": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.FactoryProduct"
                    }
                },
                "total_sales": {
                    "type": "number"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        },
        "response.ScreenInfoResponse": {
            "type": "object",
            "properties": {
                "adlist": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Advertisement"
                    }
                },
                "annually_sales": {
                    "type": "number"
                },
                "code": {
                    "type": "integer"
                },
                "daily_sales": {
                    "type": "number"
                },
                "dev_nums": {
                    "type": "integer"
                },
                "monthly_sales": {
                    "type": "number"
                },
                "msg": {
                    "type": "string"
                },
                "offline_dev_nums": {
                    "type": "integer"
                },
                "online_dev_nums": {
                    "type": "integer"
                },
                "productRankList": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactoryOrderInfo"
                    }
                },
                "sales": {
                    "description": "营销额七日增长曲线",
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "total_sales": {
                    "type": "number"
                },
                "weekly_sales": {
                    "type": "number"
                }
            }
        }
    },
    "securityDefinitions": {
        "BasicAuth": {
            "type": "basic"
        }
    },
    "externalDocs": {
        "description": "OpenAPI",
        "url": "https://swagger.io/resources/open-api/"
    }
}