basePath: /
definitions:
  model.Advertisement:
    properties:
      ad_owner:
        type: string
      ad_state:
        type: integer
      description:
        type: string
      devices:
        description: 在投放广告的时候需要注意
        items:
          $ref: '#/definitions/model.Device'
        type: array
      expected_play_times:
        type: integer
      expire_at:
        type: string
      id:
        type: integer
      invest_fund:
        type: number
      platform_id:
        type: integer
      play_times:
        type: integer
      play_url:
        type: string
      profit:
        type: number
      video_cover:
        type: string
    type: object
  model.Device:
    properties:
      activated_time:
        type: string
      advertisements:
        items:
          $ref: '#/definitions/model.Advertisement'
        type: array
      id:
        type: integer
      is_activated:
        type: boolean
      is_online:
        type: boolean
      owner_id:
        type: integer
      platform_id:
        type: integer
      products:
        items:
          $ref: '#/definitions/model.DeviceProduct'
        type: array
      profit:
        type: number
      updated_time:
        type: string
    type: object
  model.DeviceProduct:
    properties:
      annually_sales:
        type: number
      buy_price:
        description: 销售价
        type: number
      daily_sales:
        type: number
      device_id:
        description: 售货机编号
        type: integer
      factory_id:
        type: integer
      id:
        type: integer
      inventory:
        description: 存货
        type: integer
      monthly_sales:
        type: number
      name:
        description: 产品名称
        type: string
      pic:
        description: 图片
        type: string
      sku:
        type: string
      supply_price:
        description: 批发价
        type: number
      total_sales:
        type: number
      type:
        description: 型号
        type: string
      weekly_sales:
        type: number
    type: object
  model.Driver:
    properties:
      balance:
        description: 账户余额
        type: number
      car_id:
        type: string
      cart:
        allOf:
        - $ref: '#/definitions/model.DriverCart'
        description: 购物车信息
      created_at:
        description: 注册时间
        type: string
      deleted_at:
        description: "注销选项\tGORM."
        type: string
      devices:
        items:
          $ref: '#/definitions/model.Device'
        type: array
      driverOrderForms:
        description: 购物订单
        items:
          $ref: '#/definitions/model.DriverOrderForm'
        type: array
      id:
        description: 唯一标志符
        type: integer
      id_card:
        type: string
      is_auth:
        type: boolean
      level:
        allOf:
        - $ref: '#/definitions/model.LEVEL'
        description: 用户等级，成长制度待定
      location:
        type: string
      mobile:
        type: string
      name:
        description: 用户昵称
        type: string
      password:
        type: string
      password_salt:
        description: 密码盐
        type: string
      pic:
        description: 用户头像(需要添加修改头像功能）
        type: string
      platform_id:
        type: integer
      role:
        description: 用户身份标志符，注册时确认
        type: integer
      updated_at:
        type: string
    type: object
  model.DriverCart:
    properties:
      cart_id:
        type: integer
      distance:
        description: 距离场站距离
        type: integer
      driver_id:
        description: 外键 Driver.Uuid
        type: string
      factory_name:
        description: 添加进购物车时自动获取
        type: string
      products:
        description: 存储
        items:
          $ref: '#/definitions/model.OrderProduct'
        type: array
      total_amount:
        type: number
      total_count:
        type: integer
    type: object
  model.DriverOrderForm:
    properties:
      car_id:
        description: 车牌号
        type: string
      comment:
        description: 备注
        type: string
      cost:
        description: 花费
        type: integer
      driver_id:
        description: Driver外键
        type: integer
      factory_id:
        type: integer
      factory_name:
        type: string
      get_time:
        description: 自取时间
        type: string
      location:
        description: 支付时存储位置(购物时获取车主位置）
        type: string
      order_id:
        description: 订单编码
        type: string
      pay_time:
        description: 支付时间（更改操作先于发送订单请求，支付时更新即可）
        type: string
      place_time:
        description: 下单时间（创建时更新即可）
        type: string
      productInfo:
        description: 商品信息
        items:
          $ref: '#/definitions/model.OrderProduct'
        type: array
      state:
        allOf:
        - $ref: '#/definitions/model.ORDERSTATE'
        description: 订单状态
    type: object
  model.LEVEL:
    enum:
    - 0
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
    type: integer
    x-enum-varnames:
    - ZERO
    - I
    - II
    - IIV
    - IV
    - V
    - VI
  model.LoginInfo:
    properties:
      id:
        type: integer
      jwt:
        type: string
      password:
        type: string
      salt:
        type: string
    type: object
  model.ORDERSTATE:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-varnames:
    - CANCLE
    - WAIT
    - DONE
  model.OrderProduct:
    properties:
      cart_refer:
        description: 外键
        type: integer
      count:
        type: integer
      factory_id:
        type: integer
      is_chosen:
        type: boolean
      name:
        type: string
      order_refer:
        type: string
      pic:
        type: string
      price:
        type: number
      sku:
        type: string
      type:
        type: string
    type: object
  model.Platform:
    properties:
      advertisements:
        items:
          $ref: '#/definitions/model.Advertisement'
        type: array
      authorized_drivers:
        description: 登记的司机
        items:
          $ref: '#/definitions/model.Driver'
        type: array
      balance:
        description: 账户余额
        type: number
      created_at:
        description: 注册时间
        type: string
      deleted_at:
        description: "注销选项\tGORM."
        type: string
      devices:
        items:
          $ref: '#/definitions/model.Device'
        type: array
      id:
        description: 唯一标志符
        type: integer
      id_card:
        type: string
      level:
        allOf:
        - $ref: '#/definitions/model.LEVEL'
        description: 用户等级，成长制度待定
      mobile:
        type: string
      name:
        description: 用户昵称
        type: string
      password:
        type: string
      password_salt:
        description: 密码盐
        type: string
      pic:
        description: 用户头像(需要添加修改头像功能）
        type: string
      role:
        description: 用户身份标志符，注册时确认
        type: integer
      updated_at:
        type: string
    type: object
  model.ProductRank:
    properties:
      member: {}
      score:
        type: number
    type: object
  response.ADEfficientInfo:
    properties:
      car_id:
        description: 车主车牌号
        type: string
      device_id:
        type: integer
      driver_name:
        description: 车主姓名
        type: string
      played_times:
        description: 已经播放次数
        type: integer
      profit:
        description: 收益
        type: number
    type: object
  response.ADEfficientResponse:
    properties:
      adefficientInfos:
        items:
          $ref: '#/definitions/response.ADEfficientInfo'
        type: array
      code:
        type: integer
      msg:
        type: string
    type: object
  response.ADResponse:
    properties:
      adinfos:
        items:
          $ref: '#/definitions/model.Advertisement'
        type: array
      code:
        type: integer
      msg:
        type: string
    type: object
  response.AddDevResponse:
    properties:
      code:
        type: integer
      devices:
        $ref: '#/definitions/model.Device'
      msg:
        type: string
    type: object
  response.DevInfoResponse:
    properties:
      activated_time:
        description: 设备激活时间
        type: string
      annually_sales:
        type: number
      code:
        type: integer
      daily_sales:
        type: number
      devID:
        type: integer
      driver_name:
        type: string
      location:
        type: string
      mobile:
        type: string
      monthly_sales:
        type: number
      msg:
        type: string
      productInfo:
        items:
          $ref: '#/definitions/response.DevProductPartInfo'
        type: array
      total_sales:
        type: number
      updated_time:
        description: 设备更新时间
        type: string
      weekly_sales:
        type: number
    type: object
  response.DevProductPartInfo:
    properties:
      inventory:
        type: integer
      monthly_sales:
        type: number
      name:
        type: string
      pic:
        description: 商品封面图片
        type: string
      sku:
        type: string
      supply_price:
        description: 批发价
        type: number
    type: object
  response.DevQueryInfo:
    properties:
      dev_id:
        type: integer
      driver_name:
        type: string
      location:
        description: 地址信息
        type: string
      mobile:
        description: 车主电话号码
        type: string
      sales_of_today:
        description: 今日营销额
        type: number
      seq:
        description: 顺序编号
        type: integer
      state:
        description: 设备状态信息，state=1，2,3,4分别对应获取在线，离线,激活，未激活
        type: string
    type: object
  response.DevResponse:
    properties:
      code:
        type: integer
      devQueryInfos:
        items:
          $ref: '#/definitions/response.DevQueryInfo'
        type: array
      msg:
        type: string
    type: object
  response.FactoryGoodsResponse:
    properties:
      annually_sales:
        type: number
      buy_price:
        description: 销售价
        type: number
      code:
        type: integer
      daily_sales:
        type: number
      factory_id:
        type: integer
      factory_name:
        description: 场站名字
        type: string
      id:
        type: integer
      inventory:
        description: 存货
        type: integer
      is_on_shelf:
        description: 上架状态
        type: boolean
      monthly_sales:
        type: number
      msg:
        type: string
      name:
        description: 产品名称
        type: string
      pic:
        description: 图片
        type: string
      sku:
        type: string
      supply_price:
        description: 批发价
        type: number
      total_sales:
        type: number
      type:
        description: 型号
        type: string
      weekly_sales:
        type: number
    type: object
  response.FactoryProductsInfo:
    properties:
      factory_name:
        type: string
      inventory:
        type: integer
      is_on_shelf:
        type: boolean
      name:
        type: string
      pic:
        type: string
      sku:
        type: string
      total_sales:
        type: number
      type:
        type: string
    type: object
  response.FactoryProductsResponse:
    properties:
      code:
        type: integer
      msg:
        type: string
      products:
        items:
          $ref: '#/definitions/response.FactoryProductsInfo'
        type: array
    type: object
  response.LoginResponse:
    properties:
      code:
        type: integer
      jwt:
        description: 鉴权信息，用于保持用户登录状态
        type: string
      msg:
        type: string
      user_id:
        type: integer
    type: object
  response.OrderResponse:
    properties:
      code:
        type: integer
      msg:
        type: string
      orderInfos:
        items:
          $ref: '#/definitions/response.FactoryProductsInfo'
        type: array
    type: object
  response.Response:
    properties:
      code:
        type: integer
      msg:
        type: string
    type: object
  response.SaleStaticResponse:
    properties:
      annually_sales:
        type: number
      code:
        type: integer
      daily_sales:
        type: number
      monthly_sales:
        type: number
      msg:
        type: string
      productsRank:
        items:
          $ref: '#/definitions/model.ProductRank'
        type: array
      total_sales:
        type: number
      weekly_sales:
        type: number
    type: object
  response.ScreenInfoResponse:
    properties:
      adlist:
        items:
          $ref: '#/definitions/model.Advertisement'
        type: array
      annually_sales:
        type: number
      code:
        type: integer
      daily_sales:
        type: number
      dev_nums:
        type: integer
      monthly_sales:
        type: number
      msg:
        type: string
      offline_dev_nums:
        type: integer
      online_dev_nums:
        type: integer
      productRankList:
        items:
          $ref: '#/definitions/model.ProductRank'
        type: array
      sales:
        description: 营销额七日增长曲线
        items:
          type: integer
        type: array
      total_sales:
        type: number
      weekly_sales:
        type: number
    type: object
externalDocs:
  description: OpenAPI
  url: https://swagger.io/resources/open-api/
host: bf.shoggothy.xyz
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is a sample server celler server.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Swagger Example API
  version: "1.0"
paths:
  /pt/ads:
    post:
      consumes:
      - application/json
      - multipart/form-data
      description: 按照Advertisement定义的内容传递json格式的数据,无需传入平台ID
      parameters:
      - description: 传入广告描述，投放资金，广告主，预期播放次数，广告视频地址
        in: body
        name: ADInfo
        required: true
        schema:
          $ref: '#/definitions/model.Advertisement'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.ADResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 添加广告信息
      tags:
      - Platform/Advertisement
  /pt/ads/efficient/{id}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 传入广告ID
      parameters:
      - description: 广告ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ADEfficientResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取单个广告效益
      tags:
      - Platform/Advertisement
  /pt/ads/infos/{id}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 传入广告ID
      parameters:
      - description: 广告ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ADResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取单个广告信息
      tags:
      - Platform/Advertisement
  /pt/ads/list/{page}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      parameters:
      - description: 跳转到的页数，起始为第一页
        in: path
        name: page
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ADResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取该平台的所有广告信息
      tags:
      - Platform/Advertisement
  /pt/dev-admin/devs:
    post:
      consumes:
      - application/json
      - multipart/form-data
      description: 按照Device的定义 传入json格式的数据,添加的设备默认为未激活，未上线状态
      parameters:
      - description: 填入设备的基本信息,然而并不需要任何基本信息，都自动设定好了
        in: body
        name: DeviceInfo
        required: true
        schema:
          $ref: '#/definitions/model.Device'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.AddDevResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 添加设备信息
      tags:
      - Platform/Device
  /pt/dev-admin/infos/{id}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 输入设备的ID以查看对应设备的销量,绑定车主以及库存的信息
      parameters:
      - description: use to identify Device
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DevInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 展示设备详情信息
      tags:
      - Platform/Device
  /pt/dev-admin/list/{mode}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 传入字段名:mode;mode=0:获取全部设备信息,mode=1，2,3,4分别对应获取在线，离线,激活，未激活的设备信息
      parameters:
      - description: group mode
        in: path
        name: mode
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取的设备信息
          schema:
            $ref: '#/definitions/response.DevResponse'
      summary: 获取设备信息
      tags:
      - Platform/Device
  /pt/login:
    post:
      consumes:
      - application/json
      description: Input user's nickname and password
      parameters:
      - description: 输入昵称，密码 需要用户id和盐
        in: body
        name: loginInfo
        required: true
        schema:
          $ref: '#/definitions/model.LoginInfo'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.LoginResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.LoginResponse'
      summary: 车主用户登录
      tags:
      - User
  /pt/orders/factory/{mode}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 传入字段mode，获取对应订单信息
      parameters:
      - description: 按照不同模式获取订单信息，mode={0:未支付,1:未完成,2:完成,传入其他任意数值代表获取全部订单信息}
        in: path
        name: mode
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.OrderResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取车主订单信息(车主在该场站下的订单)
      tags:
      - Orderform
  /pt/products/down/{id}:
    put:
      consumes:
      - application/json
      - multipart/form-data
      description: 输入商品id,获取场站中对应商品的详细信息
      parameters:
      - description: 商品ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FactoryGoodsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 下架场站商品
      tags:
      - Products
  /pt/products/factory/{mode}/{factory_name}/:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 传入场站名，获取该场站所有商品信息
      parameters:
      - description: 根据场站名字获取场站所有商品信息，默认获取所有商品信息
        in: path
        name: factory_name
        required: true
        type: string
      - description: 按照不同模式获取订单信息，mode={0:未上架,1:上架,传入其他数据获取所有商品信息}
        in: path
        name: mode
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FactoryProductsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取所有商品
      tags:
      - Products
  /pt/products/infos/{sku}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 输入商品SKU,获取场站中对应商品的详细信息
      parameters:
      - description: sku 指向唯一的场站中的商品信息
        in: path
        name: sku
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FactoryGoodsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 获取商品信息
      tags:
      - Products
  /pt/products/on/{id}:
    put:
      consumes:
      - application/json
      - multipart/form-data
      description: 输入商品id,获取场站中对应商品的详细信息
      parameters:
      - description: 商品ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.FactoryGoodsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 上架场站商品
      tags:
      - Products
  /pt/register:
    post:
      consumes:
      - application/json
      description: Input info as model.User
      parameters:
      - description: 一定要填入已有的平台ID,用户名，密码，password_salt为可选项
        in: body
        name: RegisterInfo
        required: true
        schema:
          $ref: '#/definitions/model.Driver'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.LoginResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.LoginResponse'
      summary: 车主用户注册
      tags:
      - Driver
  /pt/screen:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 在数据大屏上展示管理场站的销售数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ScreenInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 展示销售数据
      tags:
      - Platform
  /pt/static/{mode}:
    get:
      consumes:
      - application/json
      - multipart/form-data
      description: 展示管理场站的销售数据，获取详细的销售排行信息
      parameters:
      - description: 根据模式获取平台商品的排行信息，mode=0 今日排行，mode=1 本周排行 ,mode=2 本月排行,mode=3 本年排行,mode=4
          总排行
        in: path
        name: mode
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.SaleStaticResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
      summary: 销售数据统计
      tags:
      - User
securityDefinitions:
  BasicAuth:
    type: basic
swagger: "2.0"
